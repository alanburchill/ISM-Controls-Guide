<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Backups of data, applications and settings are synchronised to enable restoration to a common point in time. - ISM Controls Guide</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #0d1117;
      min-height: 100vh;
      color: #e6edf3;
      text-align: left;
    }
    .header {
      background: #161b22;
      border-bottom: 1px solid #30363d;
      padding: 15px 40px;
      
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .back-btn {
      background: #21262d; border: 1px solid #30363d;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
    }
    .back-btn:hover {
      transform: translateY(-2px);
      border-color: #58a6ff;
    }
    .header-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #e6edf3;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 30px 20px;
    }
    .content-card {
      background: #161b22;
      border-radius: 6px; border: 1px solid #30363d;
      padding: 40px;
      
      text-align: left;
    }
    h1 {
      font-size: 1.8rem;
      font-weight: 700;
      color: #e6edf3;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #30363d;
    }
    h2 {
      font-size: 1.4rem;
      font-weight: 600;
      color: #e6edf3;
      margin-top: 30px;
      margin-bottom: 15px;
    }
    h3 {
      font-size: 1.2rem;
      font-weight: 600;
      color: #8b949e;
      margin-top: 25px;
      margin-bottom: 12px;
    }
    p { line-height: 1.7; margin-bottom: 15px; color: #8b949e; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 0.95rem;
    }
    th, td {
      padding: 12px 15px;
      border: 1px solid #30363d;
      text-align: left;
    }
    th {
      background: #21262d; border: 1px solid #30363d;
      color: white;
      font-weight: 600;
    }
    tr:nth-child(even) { background: #161b22; } tr:nth-child(odd) { background: #0d1117; }
    ul, ol { margin: 15px 0; padding-left: 25px; }
    li { margin-bottom: 8px; line-height: 1.6; }
    a { color: #58a6ff; text-decoration: none; font-weight: 500; }
    a:hover { text-decoration: underline; }
    code {
      background: #21262d;
      padding: 3px 8px;
      border-radius: 4px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
    }
    pre {
      background: #161b22;
      color: #e6edf3;
      padding: 20px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 20px 0;
    }
    pre code { background: none; padding: 0; color: inherit; }
    blockquote {
      border-left: 4px solid #58a6ff;
      padding: 15px 20px;
      margin: 20px 0;
      background: rgba(88, 166, 255, 0.1);
      border-radius: 0 8px 8px 0;
    }
    blockquote p { margin: 0; }
    hr { border: none; border-top: 1px solid #30363d; margin: 30px 0; }
    @media (max-width: 768px) {
      .header { padding: 15px 20px; flex-direction: column; align-items: flex-start; gap: 10px; }
      .content-card { padding: 25px; }
      h1 { font-size: 1.5rem; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="header">
    <a href="../" class="back-btn">‚Üê Back to Controls</a>
  </div>
  <div class="container">
    <div class="content-card" id="content">
    </div>
  </div>
  <script>
    const markdown = `---
title: "Backups of data, applications and settings are synchronised to enable restoration to a common point in time. (ISM-1810)"
ism_control: "ISM-1810"
revision: "1"
updated: "Dec-23"
guideline: "Guidelines for system management"
section: "Data backup and restoration"
topic: "Performing and retaining backups"
essential_eight:
  - "ML1"
  - "ML2"
  - "ML3"
pspf_levels:
  - "NC"
  - "OS"
  - "P"
  - "S"
  - "TS"
date_generated: "2025-12-25"
---
# Backups of data, applications and settings are synchronised to enable restoration to a common point in time.

| Property | Value |
|----------|-------|
| **ISM Control** | ISM-1810 |
| **Revision** | 1 |
| **Updated** | Dec-23 |
| **Guideline** | Guidelines for system management |
| **Section** | Data backup and restoration |
| **Topic** | Performing and retaining backups |
| **Essential Eight** | ML1, ML2, ML3 |
| **PSPF Levels** | NC, OS, P, S, TS |

## Summary

Use Azure Backup to take application-consistent VM restore points, providing synchronised restore points across all attached disks[^1]. Application consistency is achieved via VSS on Windows VMs or via pre- and post-scripts on Linux, with a backup extension coordinating the snapshot process for app- or file-system consistency[^1]. VM restore points are incremental and organized into restore point collections to streamline backup and restore operations[^1].

[^1]:[Use virtual machine restore points - Azure Virtual Machines | Microsoft Learn](https://learn.microsoft.com/en-us/azure/virtual-machines/virtual-machines-create-restore-points)

## Design Decision

> [!NOTE] Azure Backup will be used to take application-consistent snapshots to produce synchronised restore points across all VM disks.

## Prerequisites

* **Licensing:** Not provided in source documentation.
* **Permissions/Roles:** The Backup Vault uses a Managed Identity that requires permissions on the source disk, the snapshot resource group where snapshots are created and managed, and the target resource group where you want to restore the backup. Permissions are granted via Azure RBAC. [^3]
* **Dependencies:** Create a Recovery Services vault (Backup vault); create a Backup policy; if using application or file-system consistent backups, install the backup extension on the VM. [^2]

[^2]:About Azure VM backup - Azure Backup | Microsoft Learn(https://learn.microsoft.com/en-us/azure/backup/backup-azure-vms-introduction)
[^3]:Overview of Azure Disk Backup - Azure Backup | Microsoft Learn(https://learn.microsoft.com/en-us/azure/backup/disk-backup-overview)

## Implementation Steps

### Use Azure Backup to take application-consistent snapshots for synchronised restore points

1. Create a Recovery Services vault and configure it for Azure VM backups.[^2]

2. Create or modify a VM backup policy to use application-consistent snapshots. For Windows VMs, Azure Backup coordinates with VSS to create app-consistent snapshots; for Linux VMs, configure pre- and post-scripts to achieve app-consistency. Ensure the VM backup extension is installed when using application or file-system-consistent backups.[^2]

3. Ensure application consistency requirements are met per OS:
   - Windows: rely on VSS writers to achieve application consistency. If necessary, install the Windows VSS components as part of the backup setup.[^2]
   - Linux: implement pre- and post-scripts to coordinate application-consistent snapshots. Azure Backup invokes only the scripts you provide.[^2]

4. Understand that VM restore points are per-VM and are organized into restore point collections. If needed, utilize ARM templates to create restore points and restore point collections; see the repository for examples: [ARM templates for restore points](https://github.com/Azure/Virtual-Machine-Restore-Points).[^1]

5. Let Azure Backup start backup jobs according to the configured schedule. Application- or file-system-consistent backups will coordinate with the backup extension or in-VM coordination to take app-consistent snapshots.[^2]

6. Validate that restore points exist and are synchronized across disks within the VM. Restore points capture the VM configuration and point-in-time snapshots of all managed disks, enabling restoration to a common point in time. Review VM restore points within the restore point collection to verify consistency.[^1]

7. When restoring, select a recovery point from the restore point collection to recover the VM or its disks to a common point in time. This enables synchronized restoration across multiple disks. For automation or templating, refer to the linked repository for examples.[^1]

Notes:
- The default behavior supports application- or file-system-consistent backups; the specific consistency type and scripts determine the exact coordination used for the snapshot. See the cited Azure VM backup documentation for details on consistency types and scripting requirements.[^2]

[^1]:[Use virtual machine restore points](https://learn.microsoft.com/en-us/azure/virtual-machines/virtual-machines-create-restore-points)
[^2]:[About Azure VM backup - Azure Backup](https://learn.microsoft.com/en-us/azure/backup/backup-azure-vms-introduction)`;
    const contentWithoutFrontmatter = markdown.replace(/^---[\s\S]*?---\s*/m, '');
    document.getElementById('content').innerHTML = marked.parse(contentWithoutFrontmatter);
  </script>
</body>
</html>
